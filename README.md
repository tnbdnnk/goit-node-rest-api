# Homework 2: Node Rest API

Write the controllers taking into account the following requirements:

The REST API must support such routes.

- GET /api/contacts

 Викликає функцію-сервіс listContacts для роботи з json-файлом contacts.json

 Повертає масив всіх контактів в json-форматі зі статусом 200


- GET /api/contacts/:id

 Викликає функцію-сервіс getContactById для роботи з json-файлом contacts.json

 Якщо контакт за id знайдений, повертає об'єкт контакту в json-форматі зі статусом 200

 Якщо контакт за id не знайдено, повертає json формату {"message": "Not found"} зі статусом 404


- DELETE /api/contacts/:id

 Викликає функцію-сервіс removeContact для роботи з json-файлом contacts.json

 Якщо контакт за id знайдений і видалений, повертає об'єкт видаленого контакту в json-форматі зі статусом 200

 Якщо контакт за id не знайдено, повертає json формату {"message": "Not found"} зі статусом 404


- POST /api/contacts

 Отримує body в json-форматі з полями {name, email, phone}. Усі поля є обов'язковими - для валідації створи у файлі contactsSchemas.js (знаходиться у папці schemas) схему з використаням пакета joi

 Якщо в body немає якихось обов'язкових полів (або передані поля мають не валідне значення), повертає json формату {"message": error.message} (де error.message - змістовне повідомлення з суттю помилки) зі статусом 400

 Якщо body валідне, викликає функцію-сервіс addContact для роботи з json-файлом contacts.json, з передачею їй даних з body

 За результатом роботи функції повертає новостворений об'єкт з полями {id, name, email, phone} і статусом 201


- PUT /api/contacts/:id

 Отримує body в json-форматі з будь-яким набором оновлених полів (name, email, phone) (всі поля вимагати в боді як обов'язкові не потрібно: якщо якесь із полів не передане, воно має зберегтись у контакта зі значенням, яке було до оновлення)

 Якщо запит на оновлення здійснено без передачі в body хоча б одного поля, повертає json формату {"message": "Body must have at least one field"} зі статусом 400.

 Передані в боді поля мають бути провалідовані - для валідації створи у файлі contactsSchemas.js (знаходиться у папці schemas) схему з використанням пакета joi. Якщо передані поля мають не валідне значення, повертає json формату {"message": error.message} (де error.message - змістовне повідомлення з суттю помилки) зі статусом 400

 Якщо з body все добре, викликає функцію-сервіс updateContact, яку слід створити в файлі contactsServices.js (знаходиться в папці services). Ця функція має приймати id контакта, що підлягає оновленню, та дані з body, і оновити контакт у json-файлі contacts.json

 За результатом роботи функції повертає оновлений об'єкт контакту зі статусом 200.

 Якщо контакт за id не знайдено, повертає json формату {"message": "Not found"} зі статусом 404.


# Homework 3: MongoDB

Step 1:
 Напиши код для створення підключення до MongoDB за допомогою Mongoose.

 При успішному підключенні виведи в консоль повідомлення "Database connection successful".

 Обов'язково обробив помилку підключення. Виведи в консоль повідомлення помилки і заверши процес використовуючи process.exit(1).

 У функціях обробки запитів заміни код CRUD-операцій над контактами з файлу, на Mongoose-методи для роботи з колекцією контактів в базі даних.

 Схема моделі для колекції contacts:
    {
        name: {
            type: String,
            required: [true, 'Set name for contact'],
        },
        email: {
            type: String,
        },
        phone: {
            type: String,
        },
        favorite: {
            type: Boolean,
            default: false,
        },
    }


Step 2:

 У нас з'явилося в контактах додаткове поле статусу favorite, яке приймає логічне значення true або false. Воно відповідає за те, що в обраному чи ні знаходиться зазначений контакт. Потрібно реалізувати для оновлення статусу контакту новий роутер

- PATCH /api/contacts/:contactId/favorite

 Отримує параметр contactId

 Отримує body в json-форматі c оновленням поля favorite

 Якщо з body все добре, викликає функцію updateStatusContact (contactId, body) (напиши її) для поновлення контакту в базі

 За результатом роботи функції повертає оновлений об'єкт контакту і статусом 200. В іншому випадку, повертає json з ключем {" message ":" Not found "} і статусом 404